@model Mvc3_Student3.Models.tb2_student

@{
    ViewBag.Title = "Delete";
}

<script src="~/Scripts/jquery-3.4.1.min.js"></script>
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css" />
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


<h2>Delete</h2>

<h3>Are you sure you want to delete this?</h3>
<div class="container">
    @*<h4>tb2_student</h4>*@
    <hr />
    @Html.HiddenFor(model => model.student_id)
    <dl class="dl-horizontal">
        <dt>
            @*@Html.DisplayNameFor(model => model.student_name)*@
            <label class="control-label col-md-2">Name</label>
        </dt>

        <dd>
            @Html.DisplayFor(model => model.student_name)
        </dd>

        <dt>
            <label class="control-label col-md-2">Address</label>
        </dt>

        <dd>
            @Html.DisplayFor(model => model.student_add)
        </dd>

        <dt>
            <label class="control-label col-md-2">Phone</label>
        </dt>

        <dd>
            @Html.DisplayFor(model => model.student_phn)
        </dd>

        @*<dt>
                <label class="control-label col-md-2">Class</label>
            </dt>

            <dd>
                @Html.DisplayFor(model => model.tb2_class.class_name)
            </dd>*@


    </dl>

    @using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()

        <div class="form-actions no-color">
            <input type="button" id="btndel" value="Delete" class="btn btn-danger" />
            @*<input type="submit" value="Delete" class="btn btn-default" /> |*@
            @Html.ActionLink("Back to List", "Index")
        </div>
    }
</div>
<script>
    $(document).ready(function () {
        $("#btndel").click(function () {
            //  alert('hy')
            var std = new Object();
            std.student_id = $('#student_id').val();
            std.student_name = $('#student_name').val();
            if (std != null) {
                $.ajax({
                    url: "/student/Delete",
                    type: "POST",
                    data: JSON.stringify(emp),
                    contentType: "application/json; charset=utf-8",
                    // dataType: "json",
                    success: function (response) {
                        if (response != null) {
                            location = location.href;
                            alert("DATA DELETED");
                        }
                        else {
                            alert("Something went wrong");
                        }
                    }
                });
            }

        });
    });
</script>

